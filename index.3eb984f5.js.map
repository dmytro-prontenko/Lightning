{"mappings":"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","sources":["src/js/elem-events.js","node_modules/@parcel/runtime-js/lib/runtime-dadca26515de8897.js","node_modules/@parcel/runtime-js/lib/runtime-f879e1766cbfe453.js"],"sourcesContent":["import Render from './classes/render';\nimport CocktailAPI from './classes/cocktailAPI';\nimport { dropDownList } from './classes/drop-down-search';\nimport { refs } from './refs';\nimport { saveToLocal, removeFromLocal } from './storage.js';\nimport icons from '../images/icons.svg';\nimport Notiflix from 'notiflix';\n\nrefs.cocktailsList.addEventListener('click', onClick);\n\nconst listCocktails = new CocktailAPI();\nconst listRender = new Render();\n\nfunction handleKeyDown(event) {\n  if (event.key === 'Escape' && !refs.modal.classList.contains('is-hidden')) {\n    refs.modal.classList.toggle('is-hidden');\n    refs.body.classList.toggle('modal-open');\n  }\n  if (!refs.body.classList.contains('modal-open')) {\n    document.removeEventListener('keydown', handleKeyDown);\n  } else {\n    document.addEventListener('keydown', handleKeyDown);\n  }\n}\n\ndocument.addEventListener('keydown', handleKeyDown);\n\nfunction onClick(event) {\n  // Details button event\n  if (\n    event.target.nodeName === 'BUTTON' &&\n    event.target.className === 'learn-more'\n  ) {\n    refs.modal.classList.toggle('is-hidden');\n    refs.body.classList.toggle('modal-open');\n    if (refs.body.classList.contains('modal-open')) {\n      document.addEventListener('keydown', handleKeyDown);\n    }\n    const id = event.target.closest('.cocktails-item').id;\n    listCocktails.fetchCocktailByID(id).then(data => {\n      listRender.renderModalCocktail(data);\n    });\n    return;\n  }\n\n  // Favorite button event\n  if (\n    (event.target.nodeName === 'BUTTON' &&\n      event.target.className === 'fav-btn')\n    // event.target.nodeName === 'svg' ||\n    // event.target.nodeName === 'use'\n  ) {\n    console.log(event.target.nodeName);\n    const id = event.target.closest('.cocktails-item').id;\n    if (event.target.dataset.inLocalStorage === 'inStorage') {\n      removeFromLocal('cocktails', id);\n      event.target.dataset.inLocalStorage = 'notInStorage';\n      event.target.innerHTML = `<svg class=\"fav-button-svg\">\n                <use xlink:href=\"${icons}#icon-footer-heart\"></use>\n                </svg>`;\n      return;\n    }\n    saveToLocal('cocktails', event.target.closest('.cocktails-item').id);\n    event.target.dataset.inLocalStorage = 'inStorage';\n    event.target.innerHTML = `<svg class=\"del-btn-svg\">\n                <use xlink:href=\"${icons}#icon-remove\"></use>\n                </svg>`;\n  }\n}\n// =============== MODAL COCKTAILS BUTTONS ===============\nrefs.modal.addEventListener('click', onClickModalCocktail);\n\nfunction onClickModalCocktail(event) {\n  if (\n    (event.target.nodeName === 'svg' &&\n      event.target.id === 'js-close-modal-cockt-svg') ||\n    event.target.nodeName === 'use' ||\n    event.target.className === 'backdrop modal-cockt-container'\n  ) {\n    refs.modal.classList.toggle('is-hidden');\n    refs.body.classList.toggle('modal-open');\n\n    return;\n  }\n\n  if (\n    event.target.nodeName === 'BUTTON' &&\n    event.target.className === 'add-to-fav'\n  ) {\n    const id = event.target.closest('.modal-cocktail').id;\n    if (event.target.textContent === 'Remove from favorite') {\n      removeFromLocal('cocktails', id);\n      event.target.textContent = 'Add to favorite';\n\n      return;\n    }\n\n    saveToLocal('cocktails', id);\n    event.target.textContent = 'Remove from favorite';\n  }\n\n  if (\n    event.target.nodeName === 'BUTTON' &&\n    event.target.className === 'ingredient-list-item'\n  ) {\n    refs.modal.classList.toggle('is-hidden');\n    refs.modalIngredient.classList.toggle('is-hidden');\n    listCocktails\n      .fetchIngrByID(event.target.dataset.ingId)\n      .then(data => listRender.renderIngModal(data));\n  }\n}\n// =============== MODAL ING BUTTONS ===============\nrefs.modalIngredient.addEventListener('click', onIngrCloseBtnClick);\n\nfunction onIngrCloseBtnClick(event) {\n  if (\n    (event.target.nodeName === 'svg' &&\n      event.target.id === 'js-close-modal-ingr-svg') ||\n    event.target.nodeName === 'use' ||\n    event.target.className === 'backdrop modal-ing-container'\n  ) {\n    refs.modal.classList.toggle('is-hidden');\n    refs.modalIngredient.classList.toggle('is-hidden');\n    return;\n  }\n\n  if (\n    event.target.nodeName === 'BUTTON' &&\n    event.target.className === 'add-fav-ing'\n  ) {\n    const id = event.target.closest('.modal-ing').id;\n    if (event.target.textContent === 'Remove from favorite') {\n      removeFromLocal('ingredients', id);\n      event.target.textContent = 'Add to favorite';\n      return;\n    }\n    saveToLocal('ingredients', id);\n    event.target.textContent = 'Remove from favorite';\n  }\n}\n\n// =============== MODAL BURGER ===============\n\nrefs.burgerMenu.addEventListener('click', onBurgerMenuClick);\nrefs.modalBurger.addEventListener('click', onModalBurgerClick);\n\nfunction onBurgerMenuClick(event) {\n  if (event.target.nodeName === 'svg' || event.target.nodeName === 'use') {\n    refs.modalBurger.classList.toggle('is-hidden');\n    refs.body.classList.toggle('modal-open');\n    listRender.renderBurgerModal();\n    return;\n  }\n}\n\nfunction onModalBurgerClick(event) {\n  if (\n    (event.target.nodeName === 'svg' &&\n      event.target.classList === 'close-btn-cock-svg') ||\n    event.target.nodeName === 'use' ||\n    event.target.classList.value === ' close-btn-svg close-btn-svg-burger'\n  ) {\n    refs.modalBurger.classList.toggle('is-hidden');\n    refs.body.classList.toggle('modal-open');\n    return;\n  }\n}\n\n// =============== SEARCH INPUT ===============\n\nrefs.searchField.addEventListener('input', onSearchInput);\nfunction onSearchInput(event) {\n  refs.searchField.addEventListener('keydown', onEnterPress);\n}\n\nfunction onEnterPress(event) {\n  if (event.keyCode === 13) {\n    if (event.target.value.length >= 3) {\n      listCocktails\n        .fetchCocktailByName(event.target.value.trim())\n        .then(data => listRender.renderList(data));\n      refs.cocktailsTitle.scrollIntoView({ behavior: 'smooth' });\n      refs.searchField.value = '';\n      dropDownList.removeList();\n    } else {\n      Notiflix.Notify.failure('Enter more than two symbols!');\n    }\n  }\n}\n","module.exports = require('./helpers/bundle-url').getBundleURL('1Bpy6') + require('./helpers/bundle-manifest').resolve(\"410VS\");","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"1Bpy6\\\":\\\"index.3eb984f5.js\\\",\\\"410VS\\\":\\\"icons.7ecd8f1f.svg\\\"}\"));"],"names":["$fQ6Tz","parcelRequire","$4Nugj","refs","cocktailsList","addEventListener","event","target","nodeName","className","modal","classList","toggle","body","contains","document","$12dac750f7663296$var$handleKeyDown","id","closest","$12dac750f7663296$var$listCocktails","fetchCocktailByID","then","data","$12dac750f7663296$var$listRender","renderModalCocktail","console","log","id1","dataset","inLocalStorage","$jzQFI","removeFromLocal","innerHTML","concat","$parcel$interopDefault","$i5R4m","saveToLocal","$9hMRA","default","key","removeEventListener","$12dac750f7663296$var$onEnterPress","keyCode","value","length","fetchCocktailByName","trim","renderList","cocktailsTitle","scrollIntoView","behavior","searchField","$6Iwyr","dropDownList","removeList","$6JpON","Notify","failure","textContent","modalIngredient","fetchIngrByID","ingId","renderIngModal","burgerMenu","modalBurger","renderBurgerModal","module","exports","getBundleURL","resolve","register","JSON","parse"],"version":3,"file":"index.3eb984f5.js.map"}